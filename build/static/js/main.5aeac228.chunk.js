(this.webpackJsonpviewport=this.webpackJsonpviewport||[]).push([[0],{164:function(e,t){!function(e){var t,n,o,a,i,c='<svg><symbol id="icon-searchclose" viewBox="0 0 1024 1024"><path d="M517.08411984 479.11475483L301.90637831 263.93753776a26.85237631 26.85237631 0 1 0-37.98667221 37.95153335l215.17669262 215.19504873L263.91970607 732.27864411a26.85237631 26.85237631 0 1 0 37.96936504 37.96884057l215.19504878-215.17669264 215.19504866 215.17669264a26.85237631 26.85237631 0 1 0 37.9688406-37.95100889l-215.17669262-215.2123559 215.17669262-215.1772171a26.85237631 26.85237631 0 1 0-37.9688406-37.96936505L517.10195147 479.11475483z"  ></path></symbol><symbol id="icon-qingchuhuancun" viewBox="0 0 1024 1024"><path d="M380.220734 960.178685v-223.356732a32.673899 32.673899 0 0 1 65.283983 0V960.178685h130.504148v-223.356732a32.673899 32.673899 0 0 1 65.283982 0V960.178685h195.724314V513.46522H184.368788v446.713465h195.851946z m-261.008296-463.880025a126.483727 126.483727 0 0 1-60.753031-143.522655A130.057435 130.057435 0 0 1 184.304972 258.200383h195.915762V130.567964a130.567964 130.567964 0 0 1 261.135929 0v127.632419h195.724314a129.993618 129.993618 0 0 1 126.10083 94.575622 126.483727 126.483727 0 0 1-60.753032 143.586471V960.178685a64.582004 64.582004 0 0 1-65.283982 63.81621H184.368788a64.582004 64.582004 0 0 1-65.283982-63.81621V496.362476zM836.825712 449.649011a63.816209 63.816209 0 1 0 0-127.632419h-261.008296V130.567964a65.283982 65.283982 0 0 0-130.504148 0v191.448628h-261.008296a63.816209 63.816209 0 1 0 0 127.632419h652.456924z"  ></path></symbol><symbol id="icon-asmkticon0229" viewBox="0 0 1024 1024"><path d="M512 128c-211.84 0-384 172.16-384 384s172.16 384 384 384 384-172.16 384-384S723.84 128 512 128zM512 857.6c-190.72 0-345.6-154.88-345.6-345.6s154.88-345.6 345.6-345.6 345.6 154.88 345.6 345.6S702.72 857.6 512 857.6z"  ></path><path d="M654.72 489.6 454.4 374.4c-3.84-2.56-8.32-3.2-12.8-3.2-13.44 0-25.6 10.88-25.6 25.6l0 231.04c0 14.72 12.16 25.6 25.6 25.6 4.48 0 8.32-1.28 12.8-3.2l200.32-115.84C672 524.16 672 499.84 654.72 489.6zM454.4 605.44 454.4 418.56 616.32 512 454.4 605.44z"  ></path></symbol><symbol id="icon-shuipingfanzhuan" viewBox="0 0 1024 1024"><path d="M799.285029 511.225357 668.763346 380.704698 668.763346 465.179648 354.608344 465.179648 354.608344 380.704698 224.087685 511.227404 354.608344 641.749086 354.608344 558.675042 668.763346 558.675042 668.763346 641.749086Z"  ></path></symbol><symbol id="icon-chuizhifanzhuan" viewBox="0 0 1024 1024"><path d="M173 514.3534 849.277 519.2724 849.561 477.8214 173.283 472.9034Z"  ></path><path d="M430.5251 602.0503 429.2501 806.1233 293.1201 806.1233 513.1221 1024.0003 731.8281 806.1233 595.7591 806.1233 595.7591 602.0503 430.5251 602.0503ZM393.8721 847.5743 470.4571 847.5743 471.7321 643.5003 554.3091 643.5003 554.3091 847.5743 631.4821 847.5743 513.0411 965.5893 393.8721 847.5743Z"  ></path><path d="M513.0902-0.0001 343.4972 167.9479 449.8482 167.9479 451.1392 372.0359 575.0422 372.0359 575.0422 167.9479 681.6522 167.9479Z"  ></path></symbol><symbol id="icon-fangda" viewBox="0 0 1024 1024"><path d="M444.928 445.44v-96.768c0-13.312 10.752-24.064 24.064-24.064s24.064 10.752 24.064 24.064V445.44h103.936c10.24 0 17.92 10.752 17.92 24.064s-8.192 24.064-17.92 24.064h-103.936v96.768c0 13.312-10.752 24.064-24.064 24.064s-24.064-10.752-24.064-24.064v-96.768H343.04c-9.728 0-17.92-10.752-17.92-24.064s8.192-24.064 17.92-24.064h101.888z m246.784 211.968l145.92 145.92c6.144 6.144 8.704 14.848 6.144 23.552-2.048 8.192-8.704 14.848-16.896 16.896-8.192 2.048-17.408 0-23.552-6.144l-145.92-145.92c-52.224 44.544-118.784 68.608-187.392 68.608-160.256 0-290.816-130.048-290.816-290.816 0-160.256 130.048-290.816 290.816-290.816 160.256 0 290.816 130.048 290.816 290.816-0.512 71.68-26.112 137.216-69.12 187.904z m-221.696 54.784c133.632 0 242.176-108.544 242.176-242.176 0-133.632-108.544-242.176-242.176-242.176-133.632 0-242.176 108.544-242.176 242.176 0 133.632 108.032 242.176 242.176 242.176z m0 0"  ></path></symbol><symbol id="icon-yuanxing" viewBox="0 0 1024 1024"><path d="M511.28793597 879.48493867c-203.64442905 0-369.30957687-165.66430491-369.30957687-369.31463527 0-203.64442905 165.66430491-369.30957687 369.30957688-369.30957687 203.65033117 0 369.31463608 165.66430491 369.31463607 369.30957688 0 203.65033117-165.66430491 369.31463608-369.31463608 369.31463525z m0-685.86654502c-174.55140417 0-316.55190893 142.00050476-316.55190893 316.55190975 0 174.55646338 142.00050476 316.55696814 316.55190893 316.55696814 174.55646338 0 316.55696814-142.00050476 316.55696814-316.55696814 0-174.55140417-142.00050476-316.55190893-316.55696813-316.55190975z m0 0"  ></path></symbol><symbol id="icon-fanzhuan" viewBox="0 0 1024 1024"><path d="M513.422 153.6a21.333 21.333 0 0 0-21.333 21.333v674.134a21.333 21.333 0 0 0 42.667 0V174.933a21.333 21.333 0 0 0-21.334-21.333zM364.09 295.822a59.733 59.733 0 0 0-64 12.8L126.578 477.867a56.889 56.889 0 0 0-17.067 41.244 56.889 56.889 0 0 0 17.067 41.245L301.51 731.022a58.311 58.311 0 0 0 39.822 15.645 59.733 59.733 0 0 0 22.756-4.267 56.889 56.889 0 0 0 36.978-54.044V347.022a56.889 56.889 0 0 0-36.978-51.2zM358.4 689.778A15.644 15.644 0 0 1 348.444 704a17.067 17.067 0 0 1-18.488-2.844L155.022 530.489a15.644 15.644 0 0 1-4.266-11.378 15.644 15.644 0 0 1 4.266-11.378l174.934-170.666a17.067 17.067 0 0 1 18.488-2.845 15.644 15.644 0 0 1 9.956 14.222z m539.022-211.911L722.49 307.2a59.733 59.733 0 0 0-64-12.8 56.889 56.889 0 0 0-36.978 54.044v341.334a56.889 56.889 0 0 0 36.978 54.044 59.733 59.733 0 0 0 22.755 4.267 58.311 58.311 0 0 0 41.245-17.067l174.933-170.666a56.889 56.889 0 0 0 17.067-41.245 56.889 56.889 0 0 0-17.067-41.244z m-29.866 51.2L692.622 699.733a17.067 17.067 0 0 1-18.489 2.845 15.644 15.644 0 0 1-9.955-14.222V347.022a15.644 15.644 0 0 1 9.955-14.222h8.534a17.067 17.067 0 0 1 11.377 4.267l174.934 170.666a15.644 15.644 0 0 1 4.266 11.378 15.644 15.644 0 0 1-4.266 11.378z"  ></path></symbol><symbol id="icon-jiaoduceliang" viewBox="0 0 1024 1024"><path d="M85.869714 723.675429C38.326857 723.675429 0 762.148571 0 809.545143 0 856.941714 38.326857 895.268571 85.869714 895.268571s85.869714-38.326857 85.869715-85.869714-38.473143-85.723429-85.869715-85.723428z m0 127.707428c-22.966857 0-41.837714-18.724571-41.837714-41.837714s18.724571-41.837714 41.837714-41.837714 41.837714 18.724571 41.837715 41.837714c-0.146286 23.259429-18.724571 41.837714-41.837715 41.837714z"  ></path><path d="M937.252571 723.675429c-40.082286 0-73.874286 27.648-83.236571 64.804571H153.014857v41.837714H854.308571c9.362286 37.302857 43.008 64.804571 83.236572 64.804572 47.396571 0 85.869714-38.326857 85.869714-85.869715-0.146286-47.250286-38.765714-85.577143-86.162286-85.577142z m0 127.707428c-22.966857 0-41.837714-18.724571-41.837714-41.837714s18.724571-41.837714 41.837714-41.837714c22.966857 0 41.837714 18.724571 41.837715 41.837714 0 23.259429-18.578286 41.837714-41.837715 41.837714z"  ></path><path d="M626.834286 163.401143c-28.525714 28.525714-32.768 71.826286-13.019429 104.740571l-495.908571 495.616 29.549714 29.549715 495.908571-495.616c32.914286 19.748571 76.214857 15.506286 104.740572-13.019429 33.499429-33.499429 33.499429-87.917714 0-121.270857-33.353143-33.499429-87.771429-33.645714-121.270857 0z m90.258285 90.258286c-16.384 16.384-42.861714 16.384-58.953142 0-16.384-16.384-16.384-42.861714 0-58.953143 16.384-16.384 42.861714-16.384 58.953142 0 16.237714 16.091429 16.237714 42.569143 0 58.953143z"  ></path><path d="M397.165714 524.580571s130.779429 104.448 137.508572 275.163429l-35.254857 2.779429s-6.582857-158.134857-130.779429-253.074286l28.525714-24.868572z"  ></path></symbol><symbol id="icon-shizi-" viewBox="0 0 1024 1024"><path d="M461.15 83.21h101.92v285.81H461.15z"  ></path><path d="M548 98.21l0.09 255.8h-71.9l-0.08-255.81H548m30-30H446.1v30l0.09 255.8v30h131.93v-30L578 98.2v-30z" fill="#FFFFFF" ></path><path d="M83.04 461.13h283.75v102H83.04z"  ></path><path d="M351.79 476.12v72H98v-72h253.79m30-30H68v132h313.79v-132z" fill="#FFFFFF" ></path><path d="M657 461.37h285.87v102H657z"  ></path><path d="M927.87 476.37v72H672v-72h255.87m30-30H642v132h315.87v-132z" fill="#FFFFFF" ></path><path d="M461.12 655.98h101.95v285.65H461.12z"  ></path><path d="M548.05 671l0.05 255.64h-72V670.99h71.95m30-30h-132v315.64h132V641z" fill="#FFFFFF" ></path><path d="M511.5 511.5m-40.52429 40.52429a57.31 57.31 0 1 0 81.04858-81.04858 57.31 57.31 0 1 0-81.04858 81.04858Z"  ></path><path d="M511.5 469.19a42.31 42.31 0 1 1-42.31 42.31 42.31 42.31 0 0 1 42.31-42.31m0-30a72.31 72.31 0 1 0 72.31 72.31 72.39 72.39 0 0 0-72.31-72.31z" fill="#FFFFFF" ></path></symbol><symbol id="icon-jujiao" viewBox="0 0 1024 1024"><path d="M512 170.688a341.312 341.312 0 1 1 0 682.624A341.312 341.312 0 0 1 512 170.688M512 128a384 384 0 1 0 0 768A384 384 0 0 0 512 128z"  ></path><path d="M298.688 533.312h-128a21.312 21.312 0 0 1 0-42.624h128a21.312 21.312 0 1 1 0 42.624z m554.624 0h-128a21.312 21.312 0 0 1 0-42.624h128a21.312 21.312 0 0 1 0 42.624zM512 320a21.312 21.312 0 0 1-21.312-21.312v-128a21.312 21.312 0 0 1 42.624 0v128C533.312 310.4 523.776 320 512 320z m0 554.688a21.312 21.312 0 0 1-21.312-21.376v-128a21.312 21.312 0 0 1 42.624 0v128a21.312 21.312 0 0 1-21.312 21.376z"  ></path></symbol><symbol id="icon-fanzhuan1" viewBox="0 0 1024 1024"><path d="M896 494.08000001l0 35.32799999-768 0 0-35.32799999zM305.152 417.28L668.16 417.28000001l19.968 0.51199999 5.12-9.216 5.12000001-8.704L496.64 51.2l-20.48 0-190.976 331.264-10.24 17.408 5.12 8.704 5.12 8.704 19.968 0z m20.47999999-35.328L486.4 103.424l160.768 278.528-321.53600001 0zM688.128 642.048l10.24000001-17.92-5.12000001-8.704-5.12-8.704L304.64 606.72l-19.968-0.512-5.12 9.216-5.12 8.704L476.16 972.8l20.48 0 191.488-330.752z m-362.49600001 0L647.168 642.048l-160.768 278.528-160.76800001-278.528z"  ></path></symbol><symbol id="icon-02-chizi" viewBox="0 0 1024 1024"><path d="M894.151111 351.089778L351.089778 894.151111l-221.240889-221.240889 80.469333-80.469333 20.110222-20.110222 40.220445-40.220445 20.110222-20.110222 40.220445-40.220444 20.110222-20.110223 40.220444-40.248889 20.110222-20.110222 40.220445-40.220444 20.110222-20.110222 40.220445-40.220445 20.110222-20.110222L572.302222 230.4l20.110222-20.110222 80.469334-80.440889z m-241.351111-40.220445l-60.330667-60.359111-40.220444 40.248889 120.689778 120.661333-20.110223 20.110223-120.689777-120.661334-40.220445 40.220445 60.330667 60.330666-20.110222 20.110223-60.330667-60.330667-40.220444 40.220444 120.689777 120.689778-20.110222 20.110222-120.689778-120.689777-40.220444 40.248889 60.330667 60.330666-20.110223 20.110222-60.330666-60.330666-40.220445 40.220444 120.689778 120.689778-20.110222 20.110222-120.689778-120.689778-40.220444 40.220445 60.330666 60.359111-20.110222 20.110222L230.4 612.551111l-60.330667 60.359111 181.020445 181.020445 502.840889-502.840889-181.020445-181.020445L612.551111 230.4l60.330667 60.359111z"  ></path></symbol><symbol id="icon-juxing" viewBox="0 0 1024 1024"><path d="M853.333333 810.666667H170.666667V213.333333h682.666666v597.333334zM213.333333 256v512h597.333334V256z"  ></path></symbol><symbol id="icon-leimupinleifenleileibie" viewBox="0 0 1024 1024"><path d="M320 512 192 512c-70.4 0-128 57.6-128 128l0 128c0 70.4 57.6 128 128 128l128 0c70.4 0 128-57.6 128-128l0-128C448 569.6 390.4 512 320 512zM384 768c0 35.2-28.8 64-64 64L192 832c-35.2 0-64-28.8-64-64l0-128c0-35.2 28.8-64 64-64l128 0c35.2 0 64 28.8 64 64L384 768zM768 64l-128 0C569.6 64 512 121.6 512 192l0 128c0 70.4 57.6 128 128 128l128 0c70.4 0 128-57.6 128-128L896 192C896 121.6 838.4 64 768 64zM832 320c0 35.2-28.8 64-64 64l-128 0C604.8 384 576 355.2 576 320L576 192c0-35.2 28.8-64 64-64l128 0c35.2 0 64 28.8 64 64L832 320zM768 512l-128 0c-70.4 0-128 57.6-128 128l0 128c0 70.4 57.6 128 128 128l128 0c70.4 0 128-57.6 128-128l0-128C896 569.6 838.4 512 768 512zM832 768c0 35.2-28.8 64-64 64l-128 0c-35.2 0-64-28.8-64-64l0-128c0-35.2 28.8-64 64-64l128 0c35.2 0 64 28.8 64 64L832 768zM320 64 192 64C121.6 64 64 121.6 64 192l0 128c0 70.4 57.6 128 128 128l128 0c70.4 0 128-57.6 128-128L448 192C448 121.6 390.4 64 320 64zM384 320c0 35.2-28.8 64-64 64L192 384C156.8 384 128 355.2 128 320L128 192c0-35.2 28.8-64 64-64l128 0c35.2 0 64 28.8 64 64L384 320z"  ></path></symbol><symbol id="icon-shenglvehao" viewBox="0 0 1024 1024"><path d="M176 511a56 56 0 1 0 112 0 56 56 0 1 0-112 0zM456 511a56 56 0 1 0 112 0 56 56 0 1 0-112 0zM736 511a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"  ></path></symbol></svg>',r=(r=document.getElementsByTagName("script"))[r.length-1].getAttribute("data-injectcss");if(r&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}function l(){i||(i=!0,o())}t=function(){var e,t;(t=document.createElement("div")).innerHTML=c,c=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",t=e,(e=document.body).firstChild?function(e,t){t.parentNode.insertBefore(e,t)}(t,e.firstChild):e.appendChild(t))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(o=t,a=e.document,i=!1,function t(){try{a.documentElement.doScroll("left")}catch(e){return void setTimeout(t,50)}l()}(),a.onreadystatechange=function(){"complete"==a.readyState&&(a.onreadystatechange=null,l())})}(window)},195:function(e,t,n){},196:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},289:function(e,t,n){},295:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n(27),i=n.n(a),c=n(105),r=n(103),l=n(24),s=n(6),d=Object(o.memo)(Object(l.g)((function(e){return"/"===e.location.pathname&&e.history.push("/studyList"),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"content",children:Object(c.a)(e.route.routes)})})}))),u=n(71),m=n(75),h=n.n(m),b=n(127),x=n(25),v=(n(195),n(196),n(39)),y=function(e){return Object(s.jsxs)("div",{className:"header-box",children:[Object(s.jsxs)("div",{className:"user-content",children:["\u59d3\u540d\uff1a",e.data.patientName," \u60a3\u8005\u7f16\u53f7\uff1a",e.data.archiveJobId_dictText," \u6027\u522b\uff1a",e.data.patientSex_dictText," \u5e74\u9f84\uff1a",e.data.patientAge," \u68c0\u67e5\u65e5\u671f\uff1a",e.data.studyTime," "]}),Object(s.jsx)("div",{className:"export",children:Object(s.jsx)(v.a,{type:"primary",onClick:e.exportImages,children:"\u5bfc\u51fa\u62a5\u544a"})})]})},j=(n(198),function(e){var t;return Object(s.jsx)("div",{className:"left-side-panel-box",children:Object(s.jsx)("div",{className:"list-box-wrap",children:Object(s.jsx)("div",{className:"list-box",children:0===e.data.length?Object(s.jsx)("div",{className:"empty",children:"\u6682\u65e0\u5e8f\u5217"}):null===(t=e.data)||void 0===t?void 0:t.map((function(t,n){return Object(s.jsx)("div",{className:"list-item",onClick:function(n){return e.handleSequenceListClick(t.instanceUid)},children:Object(s.jsxs)("div",{className:"num",children:["\u5e8f\u5217\uff1a",t.seriesDescription]})},t.id)}))})})})}),p=n(163),f=n.n(p);n(199);n(200);var g=n(306),k=n(164),O=n.n(k),w=Object(g.a)({scriptUrl:{iconfont:O.a}}),_=n(67),M=[{id:1,text:"\u81ea\u52a8\u64ad\u653e",icon:Object(s.jsx)(w,{style:{fontSize:"24px"},type:"icon-asmkticon0229"}),type:"playClip",checked:!1,filter:!0},{id:2,text:"\u5782\u76f4\u7ffb\u8f6c",icon:Object(s.jsx)(w,{style:{fontSize:"20px"},type:"icon-fanzhuan1"}),type:"vflip",checked:!1,filter:!0},{id:3,text:"\u6c34\u5e73\u7ffb\u8f6c",icon:Object(s.jsx)(w,{style:{fontSize:"20px"},type:"icon-fanzhuan"}),type:"hflip",checked:!1,filter:!0},{id:4,text:"\u653e\u5927",icon:Object(s.jsx)(w,{style:{fontSize:"26px"},type:"icon-fangda"}),type:"Magnify",checked:!1},{id:6,type:"hr"},{id:7,text:"\u5706\u5f62",icon:Object(s.jsx)(w,{style:{fontSize:"24px"},type:"icon-yuanxing"}),type:"EllipticalRoi",checked:!1},{id:8,text:"\u77e9\u5f62",icon:Object(s.jsx)(w,{style:{fontSize:"24px"},type:"icon-juxing"}),type:"RectangleRoi",checked:!1},{id:9,text:"\u89d2\u5ea6\u9009\u62e9",icon:Object(s.jsx)(w,{style:{fontSize:"18px"},type:"icon-jiaoduceliang"}),type:"Angle",checked:!1},{id:10,text:"\u5c3a\u5b50",icon:Object(s.jsx)(w,{style:{fontSize:"22px"},type:"icon-02-chizi"}),type:"Length",checked:!1},{id:11,text:"\u6e05\u9664",icon:Object(s.jsx)(w,{style:{fontSize:"18px"},type:"icon-qingchuhuancun"}),type:"Eraser",checked:!1}],N=function(e){var t=Object(o.useState)(M),n=Object(x.a)(t,2),a=n[0],i=n[1];return Object(s.jsx)("ul",{className:"tool-bar-box",children:M.map((function(t,n){return"hr"===t.type?Object(s.jsx)("li",{className:"hr",children:Object(s.jsx)("div",{})},t.id):Object(s.jsx)("li",{id:"MarkNodule"===t.type&&t.checked?"mark":null,className:t.checked?t.filter?"filter-active":"active":"",onClick:function(o){return function(t,n,o){"playClip"===o||"vflip"===o||"hflip"===o?(a[n].checked=!a[n].checked,i(Object(u.a)(a))):(a[n].checked=!a[n].checked,a.map((function(e){e.type!==o&&"playClip"!==e.type&&"vflip"!==e.type&&"hflip"!==e.type&&(e.checked=!1)})),i(Object(u.a)(a))),e.handleToolbarClick(o,a[n].checked)}(0,n,t.type)},"data-type":t.type,children:Object(s.jsx)(_.a,{title:t.text,children:t.icon})},t.id)}))})},C=(n(268),function(e){return Object(s.jsxs)("ul",{className:"custom-overlay-box",children:[Object(s.jsxs)("li",{children:["\u5f53\u524d\u5e27\u6570\uff1a",Object(s.jsx)("span",{children:e.imageIndex})]}),Object(s.jsxs)("li",{children:["\u603b\u5e27\u6570\uff1a",Object(s.jsx)("span",{children:e.stackSize})]})]})}),L=function(e){var t=function(){var e=Object(o.useState)({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}),t=Object(x.a)(e,2),n=t[0],a=t[1],i=Object(o.useCallback)((function(){a({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight})}),[]);return Object(o.useEffect)((function(){return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[i]),n}();return Object(s.jsx)("div",{className:"viewer-main-box",children:0===e.imagesConfig.length?Object(s.jsx)("div",{className:"error-tips",children:Object(s.jsx)("span",{children:"\u6b63\u5728\u52a0\u8f7d..."})}):Object(s.jsxs)("div",{children:[Object(s.jsx)(N,{handleToolbarClick:e.handleToolbarClick}),Object(s.jsx)(f.a,{viewportOverlayComponent:C,onElementEnabled:function(t){return e.handleElementEnabledEvt(t)},tools:e.toolsConfig,imageIds:e.imagesConfig,style:{minWidth:"100%",height:"".concat(t.height-85,"px"),flex:"1"}})]})})},z=(n(269),n(93)),S=n(307),I=function(e){var t,n;return Object(s.jsxs)("div",{className:"middle-side-panel-box",children:[Object(s.jsxs)("div",{className:"nodule-list-box",children:[Object(s.jsxs)("div",{className:"title",children:["\u7ed3\u70b9\u5217\u8868\uff08",e.noduleList.length,"\uff09"]}),Object(s.jsxs)("div",{className:"table-box",children:[Object(s.jsxs)("div",{className:"table-title",children:[Object(s.jsx)("div",{className:"icon",children:Object(s.jsx)(w,{style:{fontSize:"16px"},type:"icon-leimupinleifenleileibie"})}),Object(s.jsx)(z.a,{indeterminate:e.indeterminate,onChange:e.onCheckAllChange,checked:e.checkAll,children:Object(s.jsx)("div",{className:"num",children:"\u4e2d\u5fc3\u5e27"})}),Object(s.jsx)("div",{className:"size",children:"\u5927\u5c0f"}),Object(s.jsx)("div",{className:"type",children:"\u7c7b\u578b"}),Object(s.jsx)("div",{className:"risk",children:"\u98ce\u9669"}),Object(s.jsx)("div",{className:"action",children:"\u64cd\u4f5c"})]}),Object(s.jsx)("div",{id:"tableIItemBox",className:"table-content",children:null===(t=e.noduleList)||void 0===t?void 0:t.map((function(t,n){return Object(s.jsxs)("div",{className:"table-item ".concat(t.active?"item-active":""),onClick:function(n){return e.handleCheckedListClick(t.num)},children:[Object(s.jsx)("div",{className:"icon",children:t.id}),Object(s.jsx)(z.a,{onChange:function(t){return e.onCheckChange(t,n)},checked:t.checked,children:Object(s.jsx)("div",{className:"num",children:t.num})}),Object(s.jsx)("div",{className:"size",children:t.size}),Object(s.jsx)("div",{className:"type",children:t.type}),Object(s.jsx)("div",{className:"risk",children:t.risk}),Object(s.jsx)("div",{className:"action",children:Object(s.jsx)(S.a,{placement:"left",visible:e.showPopover.index===n&&e.showPopover.visible,onVisibleChange:function(t){return e.handleVisibleChange(t,n)},content:Object(s.jsxs)("div",{className:"btn-group",children:[Object(s.jsx)("div",{onClick:function(n){return e.handleHideNodule(n,t.id)},className:"button",children:"\u9690\u85cf\u7ed3\u70b9"}),Object(s.jsx)("div",{className:"button",children:"\u6807\u6ce8"})]}),trigger:"click",children:Object(s.jsx)(w,{style:{fontSize:"16px"},type:"icon-shenglvehao"})})})]},t.id)}))})]})]}),Object(s.jsxs)("div",{className:"image-info-box",children:[Object(s.jsx)("div",{className:"title",children:"\u60a3\u8005\u62a5\u544a"}),Object(s.jsxs)("div",{className:"info-box",children:[Object(s.jsxs)("div",{className:"report-box",children:[Object(s.jsx)("div",{className:"title",children:"\u5f71\u50cf\u6240\u89c1"}),Object(s.jsx)("div",{id:"viewerItemBox",className:"report-content",children:null===(n=e.noduleList)||void 0===n?void 0:n.map((function(t,n){return t.checked?Object(s.jsx)("div",{className:"viewer-item ".concat(t.active?"item-active":""),onClick:function(n){return e.handleCheckedListClick(t.num)},children:t.text},t.id):null}))})]}),Object(s.jsxs)("div",{className:"suggest-box",children:[Object(s.jsx)("div",{className:"title",children:"\u5f71\u50cf\u5efa\u8bae"}),Object(s.jsxs)("div",{className:"suggest-content",children:[Object(s.jsx)("div",{className:"suggest-content-wrap",children:Object(s.jsx)("div",{className:"suggest-item",children:"\u5efa\u8bae"})}),Object(s.jsx)("div",{className:"save",children:Object(s.jsx)(v.a,{type:"primary",size:"small",children:"\u4fdd\u5b58"})})]})]})]})]})]})},H=n(26),T=n.n(H),E=n(20),F=n.n(E),B=(n(270),function(e){return Object(s.jsx)("div",{className:"nodule-info-box",children:e.noduleInfo})}),A=n(165),W=n(166),V=n(181),R=n(176),X="red",Y="red",P="transparent";var D={setFillColor:function(e){P=e},getFillColor:function(){return P},setToolColor:function(e){X=e},getToolColor:function(){return X},setActiveColor:function(e){Y=e},getActiveColor:function(){return Y},getColorIfActive:function(e){return e.color?e.color:e.active?Y:X}},Z=1,q=2;var G={setToolWidth:function(e){Z=e},getToolWidth:function(){return Z},setActiveWidth:function(e){q=e},getActiveWidth:function(){return q}};function U(e,t){return function(e){return T.a.getEnabledElement(e).toolStateManager}(e).get(e,t)}function J(e,t,n){var o=n*(Math.PI/180);return{x:Math.cos(o)*(e.x-t.x)-Math.sin(o)*(e.y-t.y)+t.x,y:Math.sin(o)*(e.x-t.x)+Math.cos(o)*(e.y-t.y)+t.y}}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=t.color,a=t.lineWidth,i=t.fillStyle,c=t.lineDash,r=t.shouldDrawLines,l=void 0===r||r;e.beginPath(),e.strokeStyle=o||e.strokeStyle,e.lineWidth=a||void 0===a&&G.getToolWidth()||e.lineWidth,c&&e.setLineDash(c),n(e),i&&(e.fillStyle=i,e.fill()),l&&e.stroke(),c&&e.setLineDash([])}function K(e,t,n,o,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"pixel",c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;"pixel"===i&&(n=T.a.pixelToCanvas(t,n),o=T.a.pixelToCanvas(t,o));var r=T.a.getViewport(t),l=t.clientWidth,s=t.clientHeight,d=r.scale,u=r.translation,m=r.rotation-c,h={x:l/2+u.x*d,y:s/2+u.y*d};Math.abs(m)>.05&&(n=J(n,h,-m),o=J(o,h,-m));var b=Math.abs(n.x-o.x),x=Math.abs(n.y-o.y);n={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y)},o={x:n.x+b,y:n.y+x};var v={x:n.x+b,y:n.y},y={x:n.x,y:n.y+x};Math.abs(m)>.05&&(n=J(n,h,m),o=J(o,h,m),v=J(v,h,m),y=J(y,h,m)),Q(e,a,(function(e){e.moveTo(n.x,n.y),e.lineTo(v.x,v.y),e.lineTo(o.x,o.y),e.lineTo(y.x,y.y),e.lineTo(n.x,n.y)}))}var $=function(e){Object(V.a)(n,e);var t=Object(R.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(A.a)(this,n);var o={name:"MarkNodule",supportedInteractionTypes:["Mouse"],configuration:{drawHandles:!1,drawHandlesOnHover:!1,hideHandlesIfMoving:!0,renderDashed:!1}};return t.call(this,e,o)}return Object(W.a)(n,[{key:"handleSelectedCallback",value:function(e){}},{key:"createNewMeasurement",value:function(e){return{visible:!0,active:!1,color:void 0,invalidated:!0,handles:{start:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!1,active:!1},end:{x:e.currentPoints.image.x,y:e.currentPoints.image.y,highlight:!1,active:!1}}}}},{key:"pointNearTool",value:function(e,t,n,o){return!1}},{key:"updateCachedStats",value:function(e,t,n){}},{key:"renderToolData",value:function(e){var t=U(e.currentTarget,this.name);if(localStorage.setItem("active","false"),t){t.data[0]?localStorage.setItem("active","true"):localStorage.setItem("active","false");var n=e.detail,o=n.element;!function(e,t){e.save(),t(e),e.restore()}(function(e){var t=e.getContext("2d");return t.setTransform(1,0,0,1,0,0),t}(n.canvasContext.canvas),(function(e){for(var n=0;n<t.data.length;n++){var a=t.data[n];if(!1!==a.visible){var i={color:D.getColorIfActive(a)};K(e,o,a.handles.start,a.handles.end,i,"pixel",a.handles.initialRotation)}}}))}}}]),n}(F.a.importInternal("base/BaseAnnotationTool")),ee=(n(271),n(119)),te=n(92),ne=te.a.Option,oe=function(e){var t=Object(o.useState)(2),n=Object(x.a)(t,2),a=n[0],i=n[1],c=Object(o.useState)(null),r=Object(x.a)(c,2),l=r[0],d=r[1],u=Object(o.useState)(!0),m=Object(x.a)(u,2),h=m[0],b=m[1];return Object(s.jsx)("div",{className:"mark-dialog-wrap",children:Object(s.jsxs)("div",{className:"mark-dialog-box",children:[Object(s.jsxs)("div",{className:"mark-title",children:[Object(s.jsx)("span",{children:"\u6807\u6ce8\u9009\u62e9"}),Object(s.jsx)("span",{className:"close",onClick:function(){e.handleCloseCallback()},children:Object(s.jsx)(w,{style:{fontSize:"24px"},type:"icon-searchclose"})})]}),Object(s.jsx)("div",{className:"mark-content",children:Object(s.jsxs)(ee.a.Group,{onChange:function(e){i(e.target.value)},value:a,children:[Object(s.jsx)(ee.a,{disabled:"disabled",value:1,children:"AI\u68c0\u6d4b"}),Object(s.jsx)(ee.a,{value:2,children:"\u7b80\u5355\u6807\u6ce8"})]})}),Object(s.jsx)("div",{className:"mark-btn-group",children:1===a?Object(s.jsxs)("div",{className:"tab-one",children:[Object(s.jsx)(v.a,{type:"primary",children:"\u7acb\u5373\u68c0\u6d4b"}),Object(s.jsx)(v.a,{type:"primary",children:"\u52a0\u5165\u5f85\u68c0\u6d4b\u5217\u8868"})]}):Object(s.jsxs)("div",{className:"tab-two",children:[Object(s.jsxs)(te.a,{defaultValue:"\u8bf7\u9009\u62e9\u8282\u70b9\u7c7b\u578b",style:{width:200},onChange:function(e){d(e),e&&b(!1)},children:[Object(s.jsx)(ne,{value:"1",children:"\u80ba\u5185\u5b9e\u6027"}),Object(s.jsx)(ne,{value:"2",children:"\u90e8\u5206\u5b9e\u6027"}),Object(s.jsx)(ne,{value:"3",children:"\u78e8\u73bb\u7483"})]}),Object(s.jsx)(v.a,{disabled:h,type:"primary",onClick:function(){e.handleSubmitCallback(l)},children:"\u786e\u5b9a"})]})})]})})},ae=n(95),ie=n.n(ae),ce=function(e){return(e.match(/([^?=&]+)(=([^&]*))/g)||[]).reduce((function(e,t){return e[t.slice(0,t.indexOf("="))]=t.slice(t.indexOf("=")+1),e}),{})},re=ce(window.location.href).url;ie.a.defaults.headers.common["X-Access-Token"]=ce(window.location.href).token;var le=function(e){return ie.a.get("".concat(re,"/tailai-multiomics/multiomics/medicalImage/instance/list?seriesInstanceUid=").concat(e,"&column=instanceNumber&order=asc"))},se={requestId:"1478771993803923458",orderId:"2201071555345598",tenant:"tl_detection_serve",goodsUid:"2112011511108",code:1e4,errorMessage:"",detectionResult:{nodulesList:[{featureLabel:{key:"300",value:"\u78e8\u73bb\u7483"},probability:.38,noduleSize:109.38,minHu:-799,meanHu:-675.87,lung:"R",coord:{coordX:195,coordY:164,coordZ:129},rois:[{bbox:[162,193,168,199],centroidyx:[164.3793103448276,195.13793103448276],contour_coords:[[167.5,194],[167.5,193],[167,192.5],[166,192.5],[165,192.5],[164,192.5],[163,192.5],[162,192.5],[161.5,193],[161.5,194],[161.5,195],[161.5,196],[162,196.5],[162.5,197],[163,197.5],[163.5,198],[164,198.5],[165,198.5],[166,198.5],[166.5,198],[166.5,197],[166.5,196],[166.5,195],[167,194.5],[167.5,194]],key:"130"},{bbox:[163,193,168,199],centroidyx:[164.6818181818182,195.1818181818182],contour_coords:[[167.5,195],[167,194.5],[166.5,194],[166.5,193],[166,192.5],[165,192.5],[164,192.5],[163,192.5],[162.5,193],[162.5,194],[162.5,195],[162.5,196],[163,196.5],[163.5,197],[163.5,198],[164,198.5],[165,198.5],[165.5,198],[166,197.5],[166.5,197],[166.5,196],[167,195.5],[167.5,195]],key:"131"},{bbox:[163,195,166,198],centroidyx:[163.875,195.875],contour_coords:[[165.5,196],[165.5,195],[165,194.5],[164,194.5],[163,194.5],[162.5,195],[162.5,196],[162.5,197],[163,197.5],[164,197.5],[164.5,197],[165,196.5],[165.5,196]],key:"126"},{bbox:[162,193,168,199],centroidyx:[164.39285714285714,195.03571428571428],contour_coords:[[167.5,196],[167.5,195],[167.5,194],[167,193.5],[166.5,193],[166,192.5],[165,192.5],[164,192.5],[163,192.5],[162,192.5],[161.5,193],[161.5,194],[161.5,195],[161.5,196],[161.5,197],[162,197.5],[162.5,197],[163,196.5],[163.5,197],[164,197.5],[164.5,198],[165,198.5],[165.5,198],[166,197.5],[166.5,197],[167,196.5],[167.5,196]],key:"127"},{bbox:[161,192,169,199],centroidyx:[164.43243243243242,194.8108108108108],contour_coords:[[168.5,195],[168,194.5],[167.5,194],[167.5,193],[167,192.5],[166.5,192],[166,191.5],[165,191.5],[164,191.5],[163,191.5],[162.5,192],[162,192.5],[161.5,193],[161.5,194],[161.5,195],[161,195.5],[160.5,196],[161,196.5],[161.5,197],[162,197.5],[163,197.5],[163.5,198],[164,198.5],[165,198.5],[165.5,198],[166,197.5],[166.5,197],[167,196.5],[167.5,196],[168,195.5],[168.5,195]],key:"128"},{bbox:[162,192,168,199],long_axis_length:7.280109889280518,short_axis_coordyx:[[161.5,193],[167.5,195]],centroidyx:[164.52941176470588,195.02941176470588],short_axis_length:6.324555320336759,long_axis_coordyx:[[166,191.5],[164,198.5]],contour_coords:[[167.5,196],[167.5,195],[167.5,194],[167.5,193],[167,192.5],[166.5,192],[166,191.5],[165,191.5],[164.5,192],[164,192.5],[163,192.5],[162,192.5],[161.5,193],[161.5,194],[161.5,195],[161.5,196],[161.5,197],[162,197.5],[163,197.5],[163.5,198],[164,198.5],[165,198.5],[166,198.5],[166.5,198],[166.5,197],[167,196.5],[167.5,196]],key:"129"}],diameterX:7,centerHu:-542,diameter:"6.06mm*5.26mm",diameterY:8,lobe:{lungLocation:"\u53f3\u80ba",lobeLocation:"\u4e2d\u53f6"},scrynMaligant:.24,segment:{key:"MedialNeiduan",value:"\u5185\u4fa7\u6bb5"},noduleNum:"936db5d4e3d447ad9d470dae7f967a38",maxHu:-316,noduleName:"nodule_8",diameterNorm:5.93,surgiMaligant:.65,featureLabelG:"\u975e\u9499\u5316\u7ed3\u8282"},{featureLabel:{key:"100",value:"\u80ba\u5185\u5b9e\u6027"},probability:.21,noduleSize:110.76,minHu:-598,meanHu:-327.99,lung:"L",coord:{coordX:318,coordY:345,coordZ:118},rois:[{bbox:[342,317,348,322],centroidyx:[344.05,318.9],contour_coords:[[347.5,320],[347.5,319],[347,318.5],[346,318.5],[345.5,318],[345,317.5],[344.5,317],[344,316.5],[343,316.5],[342,316.5],[341.5,317],[341.5,318],[341.5,319],[341.5,320],[342,320.5],[343,320.5],[343.5,321],[344,321.5],[344.5,321],[345,320.5],[346,320.5],[347,320.5],[347.5,320]],key:"120"},{bbox:[344,318,346,321],centroidyx:[344.4,318.8],contour_coords:[[345.5,319],[345.5,318],[345,317.5],[344,317.5],[343.5,318],[343.5,319],[343.5,320],[344,320.5],[344.5,320],[345,319.5],[345.5,319]],key:"121"},{bbox:[344,318,348,322],centroidyx:[345.5833333333333,319.25],contour_coords:[[347.5,320],[347.5,319],[347.5,318],[347,317.5],[346,317.5],[345,317.5],[344.5,318],[344,318.5],[343.5,319],[343.5,320],[344,320.5],[344.5,321],[345,321.5],[345.5,321],[346,320.5],[347,320.5],[347.5,320]],key:"115"},{bbox:[344,317,349,322],centroidyx:[345.8235294117647,319.11764705882354],contour_coords:[[348.5,317],[348,316.5],[347,316.5],[346.5,317],[346,317.5],[345,317.5],[344,317.5],[343.5,318],[343.5,319],[343.5,320],[344,320.5],[344.5,321],[345,321.5],[346,321.5],[347,321.5],[347.5,321],[347.5,320],[347.5,319],[347.5,318],[348,317.5],[348.5,317]],key:"116"},{bbox:[343,315,350,322],centroidyx:[345.6333333333333,318.23333333333335],contour_coords:[[349.5,318],[349.5,317],[349,316.5],[348,316.5],[347.5,316],[347,315.5],[346,315.5],[345,315.5],[344.5,315],[344,314.5],[343.5,315],[343.5,316],[343.5,317],[343.5,318],[343,318.5],[342.5,319],[342.5,320],[343,320.5],[343.5,321],[344,321.5],[345,321.5],[346,321.5],[346.5,321],[347,320.5],[347.5,320],[347.5,319],[348,318.5],[349,318.5],[349.5,318]],key:"117"},{bbox:[342,315,350,322],long_axis_length:8.54400374531753,short_axis_coordyx:[[342,315.5],[345,321.5]],centroidyx:[345.07894736842104,317.86842105263156],short_axis_length:6.708203932499369,long_axis_coordyx:[[349.5,317],[341.5,320]],contour_coords:[[349.5,318],[349.5,317],[349,316.5],[348.5,316],[348,315.5],[347,315.5],[346.5,315],[346,314.5],[345,314.5],[344,314.5],[343.5,315],[343,315.5],[342,315.5],[341.5,316],[342,316.5],[342.5,317],[342.5,318],[342,318.5],[341.5,319],[341.5,320],[342,320.5],[342.5,321],[343,321.5],[344,321.5],[345,321.5],[345.5,321],[346,320.5],[346.5,320],[347,319.5],[347.5,319],[348,318.5],[349,318.5],[349.5,318]],key:"118"},{bbox:[342,315,349,323],centroidyx:[344.7105263157895,318.2894736842105],contour_coords:[[348.5,318],[348.5,317],[348,316.5],[347.5,316],[347,315.5],[346,315.5],[345.5,315],[345,314.5],[344,314.5],[343.5,315],[343,315.5],[342,315.5],[341.5,316],[342,316.5],[342.5,317],[342,317.5],[341.5,318],[341.5,319],[341.5,320],[342,320.5],[342.5,321],[343,321.5],[343.5,322],[344,322.5],[345,322.5],[345.5,322],[345.5,321],[346,320.5],[347,320.5],[347.5,320],[347.5,319],[348,318.5],[348.5,318]],key:"119"}],diameterX:8,centerHu:-78,diameter:"7.11mm*5.58mm",diameterY:8,lobe:{lungLocation:"\u5de6\u80ba",lobeLocation:"\u4e0b\u53f6"},scrynMaligant:.14,segment:{key:"PosteriorHoudiduan",value:"\u540e\u57fa\u5e95\u6bb5"},noduleNum:"472025a9ecf54329931d386ac9d3be0c",maxHu:2,noduleName:"nodule_5",diameterNorm:5.96,surgiMaligant:.11,featureLabelG:"\u975e\u9499\u5316\u7ed3\u8282"},{featureLabel:{key:"300",value:"\u78e8\u73bb\u7483"},probability:.13,noduleSize:79.61,minHu:-799,meanHu:-701.08,lung:"L",coord:{coordX:304,coordY:311,coordZ:282},rois:[{bbox:[309,302,315,308],centroidyx:[311,304.7142857142857],contour_coords:[[314.5,306],[314.5,305],[314,304.5],[313,304.5],[312.5,304],[312,303.5],[311.5,303],[311.5,302],[311,301.5],[310,301.5],[309.5,302],[309.5,303],[309,303.5],[308.5,304],[308.5,305],[308.5,306],[308.5,307],[309,307.5],[309.5,307],[310,306.5],[311,306.5],[312,306.5],[313,306.5],[314,306.5],[314.5,306]],key:"280"},{bbox:[309,302,316,308],centroidyx:[311.3703703703704,304.18518518518516],contour_coords:[[315.5,306],[315.5,305],[315,304.5],[314.5,304],[314,303.5],[313.5,303],[313,302.5],[312.5,302],[312,301.5],[311,301.5],[310,301.5],[309,301.5],[308.5,302],[308.5,303],[308.5,304],[308.5,305],[308.5,306],[308.5,307],[309,307.5],[309.5,307],[310,306.5],[310.5,306],[311,305.5],[312,305.5],[313,305.5],[313.5,306],[314,306.5],[315,306.5],[315.5,306]],key:"281"},{bbox:[308,302,314,308],long_axis_length:6.324555320336759,short_axis_coordyx:[[309,301.5],[311,307.5]],centroidyx:[310.56,304.08],short_axis_length:6.324555320336759,long_axis_coordyx:[[313.5,303],[307.5,305]],contour_coords:[[313.5,305],[313.5,304],[313.5,303],[313,302.5],[312.5,302],[312,301.5],[311,301.5],[310,301.5],[309,301.5],[308.5,302],[308.5,303],[308,303.5],[307.5,304],[307.5,305],[308,305.5],[308.5,306],[309,306.5],[310,306.5],[310.5,307],[311,307.5],[311.5,307],[311.5,306],[312,305.5],[313,305.5],[313.5,305]],key:"282"},{bbox:[309,302,315,307],centroidyx:[311.3636363636364,303.77272727272725],contour_coords:[[314.5,303],[314.5,302],[314,301.5],[313,301.5],[312.5,302],[312,302.5],[311.5,302],[311,301.5],[310,301.5],[309.5,302],[309,302.5],[308.5,303],[308.5,304],[308.5,305],[309,305.5],[310,305.5],[310.5,306],[311,306.5],[312,306.5],[312.5,306],[313,305.5],[313.5,305],[313.5,304],[314,303.5],[314.5,303]],key:"283"},{bbox:[312,302,315,306],centroidyx:[313.125,303.25],contour_coords:[[314.5,305],[314.5,304],[314.5,303],[314,302.5],[313.5,302],[313,301.5],[312,301.5],[311.5,302],[311.5,303],[312,303.5],[312.5,304],[313,304.5],[313.5,305],[314,305.5],[314.5,305]],key:"284"},{bbox:[311,304,314,306],centroidyx:[312.25,304.25],contour_coords:[[313.5,305],[313.5,304],[313,303.5],[312,303.5],[311,303.5],[310.5,304],[311,304.5],[312,304.5],[312.5,305],[313,305.5],[313.5,305]],key:"285"},{bbox:[311,305,312,306],centroidyx:[311,305],contour_coords:[[311.5,305],[311,304.5],[310.5,305],[311,305.5],[311.5,305]],key:"279"}],diameterX:7,centerHu:-467,diameter:"5.26mm*5.26mm",diameterY:8,lobe:{lungLocation:"\u5de6\u80ba",lobeLocation:"\u4e0a\u53f6"},scrynMaligant:.17,segment:{key:"ApicalPosteriorJianhouduan",value:"\u5c16\u540e\u6bb5"},noduleNum:"18e54e600e9149468342d46725d8adc5",maxHu:-288,noduleName:"nodule_23",diameterNorm:5.34,surgiMaligant:.19,featureLabelG:"\u975e\u9499\u5316\u7ed3\u8282"},{featureLabel:{key:"300",value:"\u78e8\u73bb\u7483"},probability:.06,noduleSize:62.3,minHu:-799,meanHu:-716.97,lung:"R",coord:{coordX:114,coordY:223,coordZ:135},rois:[{bbox:[222,114,223,116],centroidyx:[222,114.5],contour_coords:[[222.5,115],[222.5,114],[222,113.5],[221.5,114],[221.5,115],[222,115.5],[222.5,115]],key:"132"},{bbox:[221,112,225,117],centroidyx:[222.73333333333332,114.06666666666666],contour_coords:[[224.5,115],[224.5,114],[224.5,113],[224.5,112],[224,111.5],[223,111.5],[222.5,112],[222,112.5],[221.5,113],[221,113.5],[220.5,114],[220.5,115],[221,115.5],[221.5,116],[222,116.5],[223,116.5],[223.5,116],[224,115.5],[224.5,115]],key:"133"},{bbox:[221,112,226,117],centroidyx:[223.22727272727272,113.9090909090909],contour_coords:[[225.5,116],[225.5,115],[225.5,114],[225.5,113],[225.5,112],[225,111.5],[224,111.5],[223,111.5],[222,111.5],[221.5,112],[221,112.5],[220.5,113],[220.5,114],[220.5,115],[221,115.5],[222,115.5],[222.5,116],[223,116.5],[224,116.5],[225,116.5],[225.5,116]],key:"134"},{bbox:[221,112,227,117],long_axis_length:6.708203932499369,short_axis_coordyx:[[226,112.5],[224,116.5]],centroidyx:[223.6086956521739,114.26086956521739],short_axis_length:4.47213595499958,long_axis_coordyx:[[226.5,116],[220.5,113]],contour_coords:[[226.5,116],[226.5,115],[226.5,114],[226.5,113],[226,112.5],[225,112.5],[224,112.5],[223,112.5],[222.5,112],[222,111.5],[221.5,112],[221,112.5],[220.5,113],[220.5,114],[220.5,115],[221,115.5],[222,115.5],[222.5,116],[223,116.5],[224,116.5],[225,116.5],[226,116.5],[226.5,116]],key:"135"},{bbox:[221,112,226,117],centroidyx:[223.1904761904762,113.95238095238095],contour_coords:[[225.5,115],[225.5,114],[225.5,113],[225.5,112],[225,111.5],[224,111.5],[223,111.5],[222,111.5],[221.5,112],[221,112.5],[220.5,113],[221,113.5],[221.5,114],[221.5,115],[221,115.5],[220.5,116],[221,116.5],[222,116.5],[223,116.5],[224,116.5],[224.5,116],[225,115.5],[225.5,115]],key:"136"},{bbox:[221,113,225,117],centroidyx:[222.66666666666666,114.66666666666667],contour_coords:[[223.5,115],[223,114.5],[222,114.5],[221,114.5],[220.5,115],[221,115.5],[221.5,116],[222,116.5],[222.5,116],[223,115.5],[223.5,115]],key:"137"}],diameterX:5,centerHu:-600,diameter:"5.58mm*3.72mm",diameterY:6,lobe:{lungLocation:"\u53f3\u80ba",lobeLocation:"\u4e0b\u53f6"},scrynMaligant:.17,segment:{key:"MedialNeididuan",value:"\u5185\u57fa\u5e95\u6bb5"},noduleNum:"72c00875e5fe41cab4575fcadcbb37cc",maxHu:-442,noduleName:"nodule_10",diameterNorm:4.92,surgiMaligant:.24,featureLabelG:"\u975e\u9499\u5316\u7ed3\u8282"},{featureLabel:{key:"300",value:"\u78e8\u73bb\u7483"},probability:.05,noduleSize:72,minHu:-797,meanHu:-701,lung:"L",coord:{coordX:337,coordY:340,coordZ:219},rois:[{bbox:[338,335,344,341],centroidyx:[340.40625,337.21875],contour_coords:[[343.5,340],[343.5,339],[343.5,338],[343.5,337],[343.5,336],[343.5,335],[343,334.5],[342,334.5],[341,334.5],[340,334.5],[339,334.5],[338,334.5],[337.5,335],[337.5,336],[337.5,337],[337.5,338],[337.5,339],[337.5,340],[338,340.5],[339,340.5],[339.5,340],[340,339.5],[341,339.5],[341.5,339],[342,338.5],[342.5,339],[342.5,340],[343,340.5],[343.5,340]],key:"220"},{bbox:[342,336,344,339],centroidyx:[342.75,337],contour_coords:[[343.5,338],[343.5,337],[343.5,336],[343,335.5],[342.5,336],[342,336.5],[341.5,337],[342,337.5],[342.5,338],[343,338.5],[343.5,338]],key:"221"},{bbox:[338,335,341,341],centroidyx:[338.9230769230769,337.15384615384613],contour_coords:[[340.5,337],[340.5,336],[340.5,335],[340,334.5],[339,334.5],[338.5,335],[338,335.5],[337.5,336],[337.5,337],[337.5,338],[337.5,339],[338,339.5],[338.5,340],[339,340.5],[339.5,340],[339.5,339],[339.5,338],[340,337.5],[340.5,337]],key:"217"},{bbox:[338,335,342,341],centroidyx:[339.5217391304348,337.39130434782606],contour_coords:[[341.5,340],[341.5,339],[341.5,338],[341.5,337],[341.5,336],[341.5,335],[341,334.5],[340,334.5],[339,334.5],[338,334.5],[337.5,335],[337.5,336],[337.5,337],[337.5,338],[337.5,339],[337.5,340],[338,340.5],[338.5,340],[339,339.5],[339.5,340],[340,340.5],[341,340.5],[341.5,340]],key:"218"},{bbox:[338,335,343,341],long_axis_length:7.211102550927978,short_axis_coordyx:[[337.5,339],[342.5,335]],centroidyx:[340.10714285714283,337.32142857142856],short_axis_length:6.4031242374328485,long_axis_coordyx:[[338,334.5],[342,340.5]],contour_coords:[[342.5,340],[342.5,339],[342.5,338],[342.5,337],[342.5,336],[342.5,335],[342,334.5],[341,334.5],[340,334.5],[339,334.5],[338,334.5],[337.5,335],[337.5,336],[337.5,337],[337.5,338],[337.5,339],[338,339.5],[339,339.5],[339.5,340],[340,340.5],[341,340.5],[342,340.5],[342.5,340]],key:"219"}],diameterX:6,centerHu:-512,diameter:"6.00mm*5.33mm",diameterY:6,lobe:{lungLocation:"\u5de6\u80ba",lobeLocation:"\u4e0b\u53f6"},scrynMaligant:.18,segment:{key:"SuperiorJianduan",value:"\u80cc\u6bb5"},noduleNum:"4f05b1d7eb5f471397a24381cbb41d1a",maxHu:-355,noduleName:"nodule_18",diameterNorm:5.16,surgiMaligant:.09,featureLabelG:"\u975e\u9499\u5316\u7ed3\u8282"},{featureLabel:{key:"100",value:"\u80ba\u5185\u5b9e\u6027"},probability:.04,noduleSize:63,minHu:-599,meanHu:-342.67,lung:"R",coord:{coordX:130,coordY:280,coordZ:103},rois:[{bbox:[280,130,281,131],centroidyx:[280,130],contour_coords:[[280.5,130],[280,129.5],[279.5,130],[280,130.5],[280.5,130]],key:"100"},{bbox:[278,128,283,134],centroidyx:[280.15,130.1],contour_coords:[[282.5,129],[282.5,128],[282,127.5],[281,127.5],[280,127.5],[279,127.5],[278.5,128],[278,128.5],[277.5,129],[278,129.5],[278.5,130],[278.5,131],[278.5,132],[279,132.5],[279.5,133],[280,133.5],[281,133.5],[281.5,133],[281.5,132],[281.5,131],[281.5,130],[282,129.5],[282.5,129]],key:"101"},{bbox:[278,127,283,133],centroidyx:[280.04545454545456,129.72727272727272],contour_coords:[[282.5,130],[282.5,129],[282.5,128],[282,127.5],[281.5,127],[281,126.5],[280.5,127],[280,127.5],[279,127.5],[278.5,128],[278,128.5],[277.5,129],[277.5,130],[277.5,131],[278,131.5],[278.5,132],[279,132.5],[280,132.5],[281,132.5],[281.5,132],[281.5,131],[282,130.5],[282.5,130]],key:"102"},{bbox:[278,127,283,133],long_axis_length:6.708203932499369,short_axis_coordyx:[[277.5,129],[281.5,131]],centroidyx:[279.8181818181818,129.5909090909091],short_axis_length:4.47213595499958,long_axis_coordyx:[[281,126.5],[278,132.5]],contour_coords:[[282.5,129],[282.5,128],[282,127.5],[281.5,127],[281,126.5],[280,126.5],[279.5,127],[279,127.5],[278.5,128],[278,128.5],[277.5,129],[277.5,130],[277.5,131],[277.5,132],[278,132.5],[279,132.5],[280,132.5],[280.5,132],[281,131.5],[281.5,131],[281.5,130],[282,129.5],[282.5,129]],key:"103"},{bbox:[278,128,284,134],centroidyx:[280.04545454545456,129.95454545454547],contour_coords:[[283.5,129],[283.5,128],[283,127.5],[282,127.5],[281,127.5],[280,127.5],[279.5,128],[279,128.5],[278,128.5],[277.5,129],[277.5,130],[277.5,131],[277.5,132],[278,132.5],[278.5,133],[279,133.5],[279.5,133],[280,132.5],[280.5,132],[281,131.5],[281.5,131],[281.5,130],[282,129.5],[283,129.5],[283.5,129]],key:"104"},{bbox:[279,130,281,133],centroidyx:[279.25,131.25],contour_coords:[[280.5,132],[280,131.5],[279.5,131],[279.5,130],[279,129.5],[278.5,130],[278.5,131],[278.5,132],[279,132.5],[280,132.5],[280.5,132]],key:"105"}],diameterX:7,centerHu:-155,diameter:"5.58mm*3.72mm",diameterY:6,lobe:{lungLocation:"\u53f3\u80ba",lobeLocation:"\u4e0b\u53f6"},scrynMaligant:.16,segment:{key:"MedialNeididuan",value:"\u5185\u57fa\u5e95\u6bb5"},noduleNum:"c2bcb962e07c4a358a627877223a28c2",maxHu:-26,noduleName:"nodule_2",diameterNorm:4.94,surgiMaligant:.27,featureLabelG:"\u975e\u9499\u5316\u7ed3\u8282"},{featureLabel:{key:"300",value:"\u78e8\u73bb\u7483"},probability:.03,noduleSize:110.76,minHu:-799,meanHu:-743.49,lung:"R",coord:{coordX:172,coordY:256,coordZ:126},rois:[{bbox:[258,173,260,175],centroidyx:[258.3333333333333,173.33333333333334],contour_coords:[[259.5,173],[259,172.5],[258,172.5],[257.5,173],[257.5,174],[258,174.5],[258.5,174],[259,173.5],[259.5,173]],key:"123"},{bbox:[253,170,261,176],centroidyx:[256.28125,172.3125],contour_coords:[[260.5,172],[260.5,171],[260,170.5],[259,170.5],[258,170.5],[257,170.5],[256.5,170],[256,169.5],[255,169.5],[254.5,170],[254,170.5],[253,170.5],[252.5,171],[252.5,172],[252.5,173],[252.5,174],[253,174.5],[254,174.5],[255,174.5],[255.5,174],[256,173.5],[256.5,174],[257,174.5],[257.5,175],[258,175.5],[258.5,175],[259,174.5],[259.5,174],[259.5,173],[260,172.5],[260.5,172]],key:"124"},{bbox:[252,169,261,176],centroidyx:[255.72093023255815,172.1627906976744],contour_coords:[[260.5,171],[260,170.5],[259.5,170],[259,169.5],[258,169.5],[257.5,169],[257,168.5],[256,168.5],[255,168.5],[254.5,169],[254.5,170],[254,170.5],[253,170.5],[252.5,171],[252,171.5],[251.5,172],[251.5,173],[251.5,174],[252,174.5],[252.5,175],[253,175.5],[254,175.5],[255,175.5],[256,175.5],[256.5,175],[257,174.5],[258,174.5],[258.5,174],[259,173.5],[259.5,173],[259.5,172],[260,171.5],[260.5,171]],key:"125"},{bbox:[252,169,260,176],long_axis_length:8.54400374531753,short_axis_coordyx:[[255,168.5],[258,174.5]],centroidyx:[255.78048780487805,171.7560975609756],short_axis_length:6.708203932499369,long_axis_coordyx:[[259.5,170],[251.5,173]],contour_coords:[[259.5,173],[259.5,172],[259.5,171],[259.5,170],[259,169.5],[258.5,169],[258,168.5],[257,168.5],[256,168.5],[255,168.5],[254,168.5],[253.5,169],[254,169.5],[254.5,170],[254,170.5],[253.5,170],[253,169.5],[252.5,170],[252.5,171],[252,171.5],[251.5,172],[251.5,173],[252,173.5],[253,173.5],[253.5,174],[253.5,175],[254,175.5],[255,175.5],[255.5,175],[256,174.5],[257,174.5],[258,174.5],[258.5,174],[259,173.5],[259.5,173]],key:"126"},{bbox:[254,169,261,175],centroidyx:[256.8,171.76],contour_coords:[[260.5,171],[260,170.5],[259.5,170],[259,169.5],[258,169.5],[257.5,169],[257,168.5],[256,168.5],[255.5,169],[255.5,170],[255.5,171],[255,171.5],[254.5,172],[254,172.5],[253.5,173],[253.5,174],[254,174.5],[255,174.5],[256,174.5],[257,174.5],[257.5,174],[258,173.5],[258.5,173],[259,172.5],[259.5,172],[260,171.5],[260.5,171]],key:"127"},{bbox:[254,172,258,175],centroidyx:[255.63636363636363,173.0909090909091],contour_coords:[[257.5,174],[257.5,173],[257.5,172],[257,171.5],[256,171.5],[255,171.5],[254.5,172],[254,172.5],[253.5,173],[253.5,174],[254,174.5],[255,174.5],[256,174.5],[257,174.5],[257.5,174]],key:"128"},{bbox:[255,173,256,175],centroidyx:[255,173.5],contour_coords:[[255.5,174],[255.5,173],[255,172.5],[254.5,173],[254.5,174],[255,174.5],[255.5,174]],key:"129"}],diameterX:7,centerHu:-701,diameter:"7.11mm*5.58mm",diameterY:9,lobe:{lungLocation:"\u53f3\u80ba",lobeLocation:"\u4e0b\u53f6"},scrynMaligant:.43,segment:{key:"AnteriorQiandiduan",value:"\u524d\u57fa\u5e95\u6bb5"},noduleNum:"4818744aa2d5405db8cf3bac5d6435d0",maxHu:-612,noduleName:"nodule_6",diameterNorm:5.96,surgiMaligant:.46,featureLabelG:"\u975e\u9499\u5316\u7ed3\u8282"}],windowing:1500,windowLevel:-400}},de=function(){var e=Object(o.useState)([{name:"Wwwc",mode:"active",modeOptions:{mouseButtonMask:1}},{name:"StackScrollMouseWheel",mode:"active"},{name:"RectangleRoi",modeOptions:{mouseButtonMask:1}},{name:"Eraser",modeOptions:{mouseButtonMask:1}},{name:"Magnify",modeOptions:{mouseButtonMask:1}},{name:"EllipticalRoi",modeOptions:{mouseButtonMask:1}},{name:"Angle",modeOptions:{mouseButtonMask:1}},{name:"Length",modeOptions:{mouseButtonMask:1}}]),t=Object(x.a)(e,2),n=t[0],a=(t[1],Object(o.useState)([])),i=Object(x.a)(a,2),c=i[0],r=i[1],l=Object(o.useState)(0),d=Object(x.a)(l,2),m=(d[0],d[1],Object(o.useState)([])),v=Object(x.a)(m,2),p=v[0],f=v[1],g=Object(o.useState)([]),k=Object(x.a)(g,2),O=k[0],w=k[1],_=Object(o.useState)([]),M=Object(x.a)(_,2),N=M[0],C=M[1],z=Object(o.useState)([]),S=Object(x.a)(z,2),H=S[0],E=S[1];Object(o.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var t,n,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=ce(window.location.href).resource,i=ce(window.location.href).type,ie.a.get("".concat(re,"/tailai-multiomics/multiomics/medicalImage/series/list?resource=").concat(a,"&type=").concat(i));case 2:if(!(200===(t=e.sent).data.code&&t.data.result.length>0)){e.next=10;break}return f(t.data.result),n=t.data.result[0].instanceUid,e.next=8,le(n);case 8:o=e.sent,ue(o);case 10:case"end":return e.stop()}var a,i}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){ge(se),U("")}),[]),Object(o.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n=ce(window.location.href).resource,o=ce(window.location.href).type,ie.a.get("".concat(re,"/tailai-multiomics/multiomics/medicalImage/patients/list?resource=").concat(n,"&type=").concat(o));case 2:200===(t=e.sent).data.code&&C(t.data.result);case 4:case"end":return e.stop()}var n,o}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var A=Object(o.useState)(!1),W=Object(x.a)(A,2),V=W[0],R=W[1],X=Object(o.useState)(!0),Y=Object(x.a)(X,2),P=Y[0],D=Y[1],Z=Object(o.useState)(null),q=Object(x.a)(Z,2),G=q[0],U=q[1],J=Object(o.useState)(null),Q=Object(x.a)(J,2),K=Q[0],ee=Q[1],te=Object(o.useState)({index:0,visible:!1}),ne=Object(x.a)(te,2),ae=ne[0],de=ne[1],ue=function(e){if(200===e.data.code&&e.data.result.length>0){var t=[];e.data.result.forEach((function(e){t.push("wadouri:".concat(e.ossUrl))})),r(t)}},me=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:n=e.sent,ue(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(e){var t=O.find((function(t){return Number(t.num)===e+1}));t&&(O.map((function(e){return e.active=!1})),t.active=!0,U(t.info),w(Object(u.a)(O))),K&&be(e,K)},be=function(e,t){T.a.loadImage(c[e-1]).then((function(n){T.a.displayImage(t,n),F.a.addStackStateManager(t,["stack"]),F.a.addToolState(t,"stack",{currentImageIdIndex:Number(e-1),imageIds:c})}))},xe=Object(o.useState)(!1),ve=Object(x.a)(xe,2),ye=ve[0],je=ve[1],pe=function(e,t,n){var o=T.a.getDefaultViewportForImage(e,t),a=T.a.getViewport(e);a.voiLUT=void 0,1===n?(a.voi.windowWidth=o.voi.windowWidth,a.voi.windowCenter=o.voi.windowCenter):2===n?(a.voi.windowWidth=1500,a.voi.windowCenter=-400):3===n?(a.voi.windowWidth=250,a.voi.windowCenter=30):4===n?(a.voi.windowWidth=1e3,a.voi.windowCenter=250):5===n&&(a.voi.windowWidth=300,a.voi.windowCenter=40),T.a.setViewport(e,a)},fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",o=e.querySelector("canvas");if(o.msToBlob){var a=o.msToBlob();return window.navigator.msSaveBlob(a,t)}var i=document.createElement("a");if(i.download=t,i.href=o.toDataURL(n,1),document.createEvent){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(c)}else i.fireEvent&&i.fireEvent("onclick")},ge=function(e){console.log(e);var t=[],n=[],o=0;if(1e4===e.code){for(var a=e.detectionResult.nodulesList,i=0;i<a.length;i++)t.push({id:o,num:a[i].rois[0].key,size:a[i].diameter,type:a[i].featureLabel.value,risk:(100*a[i].scrynMaligant).toFixed(0)+"%",soak:"",text:"\u4e8e".concat(a[i].lobe.lungLocation).concat(a[i].lobe.lobeLocation,"\u5f71\u50cf\u53ef\u89c1\u4e00\u7ed3\u8282\uff0c\u5927\u5c0f\u7ea6 ").concat(a[i].diameter,"\u3002"),info:"",checked:!0,active:!1}),o++;for(var c=0;c<a.length;c++)for(var r=0;r<a[c].rois.length;r++){var l=a[c].rois[r];n.push({index:Number(l.key),startX:l.bbox[1],startY:l.bbox[0],endX:l.bbox[3],endY:l.bbox[2]})}console.log(n),w(t),E(n)}else w([]),console.log("\u6570\u636e\u52a0\u8f7d\u5931\u8d25")};return Object(s.jsxs)("div",{className:"viewer-box",children:[Object(s.jsx)(y,{data:N,exportImages:function(){fe(K,"viewportImage.png")}}),Object(s.jsxs)("div",{className:"viewer-center-box",children:[Object(s.jsx)(j,{data:p,handleSequenceListClick:me}),Object(s.jsx)(I,{handleVisibleChange:function(e,t){de(e?{visible:e,index:t}:{visible:e,index:0})},handleCheckedListClick:he,handleHideNodule:function(e,t){},onCheckChange:function(e,t){O[t].checked=e.target.checked,w(Object(u.a)(O)),O.every((function(e){return!0===e.checked}))?(R(!1),D(!0)):(R(!0),D(!1))},onCheckAllChange:function(e){D(e.target.checked),e.target.checked?(O.map((function(e){return e.checked=!0})),w(Object(u.a)(O))):(O.map((function(e){return e.checked=!1})),w(Object(u.a)(O)))},showPopover:ae,indeterminate:V,checkAll:P,noduleList:O}),Object(s.jsx)(L,{handleToolbarClick:function(e,t){var n=T.a.getViewport(K);switch(e){case"Magnify":case"RectangleRoi":case"Eraser":case"EllipticalRoi":case"Angle":case"Length":case"MarkNodule":!function(e,t){e?F.a.setToolActive(t,{mouseButtonMask:1}):F.a.setToolActive("Wwwc",{mouseButtonMask:1})}(t,e);break;case"hflip":n.hflip=!n.hflip,T.a.setViewport(K,n);break;case"vflip":n.vflip=!n.vflip,T.a.setViewport(K,n);break;case"playClip":t?F.a.playClip(K,10):F.a.stopClip(K)}},handleElementEnabledEvt:function(e){var t=e.detail.element;ee(t),F.a.addTool($),t.addEventListener("cornerstonenewimage",(function(e){var n=e.detail.image.imageId,o=c.findIndex((function(e){return e===n}));F.a.setToolActive("MarkNodule",{mouseButtonMask:1}),setTimeout((function(){pe(t,e.detail.image,2),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=H.find((function(e){return e.index===t+1}));if(n){var o={visible:!0,active:!0,color:void 0,invalidated:!0,handles:{start:{x:n.startX,y:n.startY,highlight:!0,active:!0},end:{x:n.endX,y:n.endY,highlight:!0,active:!0}}};F.a.clearToolState(e,"MarkNodule"),F.a.addToolState(e,"MarkNodule",o),T.a.updateImage(e)}}(t,o),function(){var e=document.querySelector(".tool-bar-box .active");e?F.a.setToolActive(e.dataset.type,{mouseButtonMask:1}):F.a.setToolActive("Wwwc",{mouseButtonMask:1})}()}),0)})),t.addEventListener("cornerstoneimagerendered",(function(e){var t=e.detail.image.imageId,n=c.findIndex((function(e){return e===t}));he(n)})),t.addEventListener("cornerstonetoolsmouseup",(function(e){"true"===localStorage.getItem("active")&&function(e,t){var n=F.a.getToolState(t,"MarkNodule"),o=document.getElementById("mark");n&&o&&o.classList.contains("active")&&(console.log(n),je(!0))}(0,t)}))},toolsConfig:n,imagesConfig:c})]}),Object(s.jsx)(B,{noduleInfo:G}),ye?Object(s.jsx)(oe,{handleCloseCallback:function(){var e=F.a.getToolState(K,"MarkNodule").data.pop();F.a.removeToolState(K,"MarkNodule",e),T.a.updateImage(K),je(!1)},handleSubmitCallback:function(e){var t=F.a.getToolState(K,"MarkNodule");if(t){var n=t.data.pop(),o={visible:!0,active:!1,color:void 0,invalidated:!0,handles:{start:{x:n.handles.start.x,y:n.handles.start.y,highlight:!0,active:!1},end:{x:n.handles.end.x,y:n.handles.end.y,highlight:!0,active:!0}}};F.a.clearToolState(K,"MarkNodule"),F.a.addToolState(K,"MarkNodule",o),T.a.updateImage(K),je(!1)}}}):null]})},ue=(n(289),n(304)),me=n(302),he=[{id:1,key:"1",name:"\u5f20\u4e09",age:32,day:"2020-02-02",date:"08:45:14",code:"",mm:"1.5",fps:"100",num:"5",state:"\u68c0\u6d4b\u6210\u529f"},{id:2,key:"2",name:"\u674e\u56db",age:32,day:"2020-02-02",date:"08:45:14",code:"",mm:"1.5",fps:"100",num:"5",state:"\u68c0\u6d4b\u6210\u529f"},{id:3,key:"3",name:"\u738b\u4e94",age:32,day:"2020-02-02",date:"08:45:14",code:"",mm:"1.5",fps:"100",num:"5",state:"\u68c0\u6d4b\u6210\u529f"}],be=[{title:"\u53d7\u68c0\u8005\u7f16\u53f7",dataIndex:"id",key:"id"},{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u5e74\u9f84",dataIndex:"age",key:"age"},{title:"\u68c0\u67e5\u65e5\u671f",dataIndex:"day",key:"day"},{title:"\u68c0\u67e5\u65f6\u95f4",dataIndex:"date",key:"date"},{title:"\u5f71\u50cf\u53f7",dataIndex:"code",key:"code"},{title:"\u5c42\u539a\uff08mm\uff09",dataIndex:"mm",key:"mm"},{title:"\u56fe\u50cf\u5e27\u6570",dataIndex:"fps",key:"fps"},{title:"\u7591\u4f3c\u7ed3\u8282\u6570",dataIndex:"num",key:"num"},{title:"\u72b6\u6001",dataIndex:"state",key:"state"}],xe=function(){var e=Object(l.f)();return Object(s.jsxs)("div",{className:"study-list-container",children:[Object(s.jsxs)("div",{className:"search-box-wrap",children:[Object(s.jsx)("div",{className:"header",children:Object(s.jsx)(v.a,{type:"primary",children:"\u68c0\u7d22"})}),Object(s.jsxs)("div",{className:"search-box",children:[Object(s.jsx)(ue.a,{style:{width:200},placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d"}),Object(s.jsx)(ue.a,{style:{width:200},placeholder:"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7"}),Object(s.jsx)(ue.a,{style:{width:200},placeholder:"\u8bf7\u8f93\u5165\u5e74\u9f84"})]})]}),Object(s.jsx)(me.a,{dataSource:he,columns:be,onRow:function(t){return{onDoubleClick:function(n){e.push("/viewer/".concat(t.id))}}}})]})},ve=n(138),ye=(n(295),n(303)),je=n(305),pe=function(e){var t=e.visible,n=e.onCreate,o=e.onCancel,a=ye.a.useForm(),i=Object(x.a)(a,1)[0];return Object(s.jsx)(je.a,{visible:t,title:"\u8fde\u63a5",onCancel:o,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){i.validateFields().then((function(e){i.resetFields(),n(e)})).catch((function(e){}))},children:Object(s.jsxs)(ye.a,Object(ve.a)(Object(ve.a)({},{labelCol:{span:4}}),{},{form:i,name:"basic",initialValues:{remember:!0},children:[Object(s.jsx)(ye.a.Item,{label:"\u5730\u5740",name:"address",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5730\u5740"}],children:Object(s.jsx)(ue.a,{placeholder:"\u8bf7\u8f93\u5165\u5730\u5740"})}),Object(s.jsx)(ye.a.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(s.jsx)(ue.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})})]}))})},fe=[{id:1,key:"1",user:"\u5f20\u4e09",time:"2012-12-12",content:"\u5220\u9664\u5217\u8868\u4e00",mmark:""},{id:2,key:"2",user:"\u674e\u56db",time:"2012-12-12",content:"\u5220\u9664\u5217\u8868\u4e8c",mmark:""},{id:3,key:"3",user:"\u738b\u4e94",time:"2012-12-12",content:"\u5220\u9664\u5217\u8868\u4e09",mmark:""}],ge=[{title:"\u64cd\u4f5c\u4eba\u5458",dataIndex:"user",key:"user"},{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"time",key:"time"},{title:"\u64cd\u4f5c\u5185\u5bb9",dataIndex:"content",key:"content"},{title:"\u5907\u6ce8",dataIndex:"mmark",key:"mmark"}],ke=[{path:"/",component:d,routes:[{path:"/studyList",component:xe,routes:[]},{path:"/taskList",component:function(){var e=Object(o.useState)(!1),t=Object(x.a)(e,2),n=t[0],a=t[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"task-header",children:Object(s.jsx)(v.a,{onClick:function(){a(!0)},type:"primary",children:"\u8fde\u63a5"})}),Object(s.jsx)("div",{className:"task-list-container",children:Object(s.jsx)(me.a,{dataSource:fe,columns:ge})}),Object(s.jsx)(pe,{visible:n,onCreate:function(e){console.log(e),a(!1)},onCancel:function(){a(!1)}})]})},routes:[]},{path:"/viewer/:studyInstanceUids",component:de,routes:[]}]}],Oe=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(r.a,{children:Object(c.a)(ke)})})},we=(n(296),n(297),n(298),function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(Oe,{})})}),_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,308)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),i(e),c(e)}))},Me=n(134),Ne=n.n(Me),Ce=n(91),Le=n.n(Ce),ze=n(171),Se=n.n(ze),Ie=n(172),He=n.n(Ie);F.a.external.cornerstone=T.a,F.a.external.Hammer=He.a,F.a.external.cornerstoneMath=Se.a,F.a.init(),F.a.textStyle.setFont("16px ".concat("Work Sans, Roboto, OpenSans, HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif")),F.a.toolStyle.setToolWidth(2),F.a.toolColors.setToolColor("rgb(255, 255, 0)"),F.a.toolColors.setActiveColor("rgb(0, 255, 0)"),F.a.store.state.touchProximity=40,Le.a.external.cornerstone=T.a,Le.a.external.dicomParser=Ne.a,Le.a.webWorkerManager.initialize({maxWebWorkers:navigator.hardwareConcurrency||1,startWebWorkersOnDemand:!0,taskConfiguration:{decodeTask:{initializeCodecsOnStartup:!1,usePDFJS:!1,strict:!1}}}),window.cornerstone=T.a,window.cornerstoneTools=F.a,i.a.render(Object(s.jsx)(we,{}),document.getElementById("root")),_e()}},[[299,1,2]]]);
//# sourceMappingURL=main.5aeac228.chunk.js.map